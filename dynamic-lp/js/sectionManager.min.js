import windowSize from"./helpers.js";import{DataService}from"./services/dataService.js";import{config}from"./config.js";class Section6Manager{constructor(){this.section=document.querySelector("#section6"),this.container=this.section.querySelector(".container"),this.textContainer=this.container.querySelector(".section6-text-container"),this.roomsGrid=this.container.querySelector(".rooms-grid"),this.sheetId=config[config.status].section6SheetId,this.isMobile=window.innerWidth<944,this.init(),this.handleResize=this.handleResize.bind(this),window.addEventListener("resize",this.handleResize)}handleResize(){const e=this.isMobile;this.isMobile=window.innerWidth<944,e!==this.isMobile&&this.updateContent()}async init(){try{const e=await DataService.fetchRoomsData(this.sheetId);e?(this.render(e),this.updateContent()):console.warn("Section6 data is not available")}catch(e){console.error("Error initializing Section6:",e)}}updateContent(){const e=this.textContainer.querySelector(".title"),t=this.textContainer.querySelector(".description");e&&this.data&&(e.innerHTML=this.isMobile?this.data.section.title.replace(/\\n/g,"<br>").replace("Social Rooms!","Social<br>Rooms!"):this.data.section.title.replace(/\\n/g,"<br>")),t&&this.data&&(t.innerHTML=this.isMobile?this.data.section.description.replace(/\\n/g," "):this.data.section.description.replace(/\\n/g,"<br>"))}render(e){this.data=e,this.textContainer.innerHTML=`\n      <p class="title">${e.section.title.replace(/\\n/g,"<br>")}</p>\n      <p class="description">${e.section.description.replace(/\\n/g,"<br>")}</p>\n    `,this.roomsGrid.innerHTML=e.rooms.map((e=>`\n        <div class="room">\n          <p class="value-deal">\n            <span>${e.label}</span>\n          </p>\n          <div class="room-content">\n            <div class="room-text-container">\n              <div class="room-name-container">\n                <img src="${e.avatar}" alt="${e.userName}" />\n                <p class="room-name">${e.userName}</p>\n              </div>\n            </div>\n            <a class='card-cta-2' href='${e.url}'>\n              Join\n            </a>\n          </div>\n        </div>\n      `)).join("")}destroy(){window.removeEventListener("resize",this.handleResize)}}class Section1Manager{constructor(){this.section=document.querySelector(".section1"),this.textContainer=this.section.querySelector(".text-container"),this.headerContainer=this.textContainer.querySelector(".header-container"),this.cta=this.textContainer.querySelector(".card-cta-2"),this.videoContainer=this.section.querySelector(".video-container"),this.stickyFooterContent=document.querySelector(".mobile-sticky-footer .footer-text p"),this.stickyFooterButton=document.querySelector(".mobile-sticky-footer .footer-cta"),this.mobileScrollModalTitleContent=document.querySelector(".mobile-scroll-modal h1"),this.mobileScrollModalSubTitleContent=document.querySelector(".mobile-scroll-modal p"),this.mobileScrollModalButtons=document.querySelector(".mobile-scroll-modal .modal-buttons"),this.sheetId=config[config.status].section1SheetId,this.videoLoaded=!1,this.isMobile=window.innerWidth<944,this.resizeTimeout=null,this.observer=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&!this.videoLoaded&&this.loadVideo()}))}),{threshold:0,rootMargin:"100px 0px"}),this.init(),this.handleResize=this.handleResize.bind(this),window.addEventListener("resize",this.handleResize)}handleResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout((()=>{const e=this.isMobile;this.isMobile=window.innerWidth<944,e!==this.isMobile&&this.videoLoaded&&this.loadVideo()}),150)}async init(){try{const e=await DataService.fetchVideoData(this.sheetId);e&&this.render(e)}catch(e){console.log("error",e)}}render(e){this.headerContainer.innerHTML=`\n      <h1 class='gc-text'>${e.claimTitle}</h1>\n      <h1 class='gc-prize'>${e.gcPrize?.replace(".",",")}</h1>\n      <h1 class='sc-prize'>${e.scPrize}</h1>\n      <h1 class='sc-text'>${e.scText}</h1>\n    `,this.stickyFooterContent.innerHTML=`${e.mobileConsentBannerTitle}`,this.mobileScrollModalTitleContent.innerHTML=`${e.mobilePopUpTitle}`,this.mobileScrollModalSubTitleContent.innerHTML="",this.observer.observe(this.videoContainer),this.videoData=e;const t=document.createElement("style");t.innerHTML=e.style,document.head.appendChild(t)}getOs(){const e=navigator.userAgent||navigator.vendor||window.opera;return/iPad|iPhone|iPod|Macintosh|Mac OS/.test(e)&&!window.MSStream?"iOS":/SamsungBrowser/i.test(e)||/SM-|SAMSUNG|Galaxy/i.test(e)?"Samsung":/android/i.test(e)?"Android":"other"}loadVideo(){if(!this.videoData)return;const e=this.videoData,t=window.innerWidth<944;this.videoContainer.innerHTML=`\n      <video\n        autoplay\n        muted\n        playsinline \n        loop\n        loading="lazy"\n        preload="metadata"\n        poster="${t?e.mobilePoster:e.desktopPoster}"\n        class="video ${t?"video-mobile":"video-desktop"}"\n      >\n        <source \n          type="video/mp4"\n          src="${t?e.mobileMP4:e.desktopMP4}"\n        />\n        ${t&&e.mobileWebM?`\n          <source \n            type="video/webm"\n             src="${e.mobileWebM}"\n          />\n        `:""}\n      </video>\n    `,this.videoLoaded=!0}destroy(){window.removeEventListener("resize",this.handleResize),this.observer.disconnect(),this.resizeTimeout&&clearTimeout(this.resizeTimeout)}}class Section7Manager{constructor(){this.section=document.querySelector(".section7"),this.textContainer=this.section.querySelector(".text-container7"),this.videoContainer=this.section.querySelector(".video-container7"),this.animContainer=this.section.querySelector(".anim-container7"),this.sheetId=config[config.status].section7SheetId,this.videoLoaded=!1,this.isMobile=window.innerWidth<944,this.resizeTimeout=null,this.init()}handleResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout((()=>{const e=this.isMobile;this.isMobile=window.innerWidth<944,e!==this.isMobile&&this.videoLoaded&&this.loadVideo()}),150)}async init(){try{const e=await DataService.fetchVideo7Data(this.sheetId);e?this.render(e):console.warn("Section7 data is not available")}catch(e){console.error("Error initializing Section7:",e)}}render(e){this.textContainer.innerHTML=`\n      <h1>${e.title.replace(/\\n/g,"<br>")}</h1>\n      <a class='card-cta-2' href='${e.ctaLink}'>\n              ${e.ctaText}\n      </a>\n      `,e.chars.forEach(((e,t)=>{const i=document.createElement("img");i.src=e,i.alt=`MyPrize Character ${t+1}`,i.draggable=!1,i.className=`char${t+1}`,this.animContainer.append(i)})),e.items.forEach(((e,t)=>{const i=document.createElement("img");i.src=e,i.alt=`MyPrize Item ${t+1}`,i.draggable=!1,i.className=`item${t+1} section7-item`,this.animContainer.append(i)})),this.cursorAnim();const t=document.createElement("style");t.innerHTML=e.style,document.head.appendChild(t)}cursorAnim(){this.cursorElements=Array.from(this.animContainer.querySelectorAll(".section7-item"));document.querySelector("body");document.addEventListener("mousemove",(e=>{var t=.02*e.clientX,i=.02*e.clientY;this.cursorElements.forEach((e=>{e.style.transform=`translate(calc(var(--translateX) - ${t}px), calc(var(--translateY) - ${i}px))`}))}))}destroy(){window.removeEventListener("resize",this.handleResize),this.observer.disconnect(),this.resizeTimeout&&clearTimeout(this.resizeTimeout)}}class Section8Manager{constructor(){this.section=document.querySelector(".section8"),this.textContainer=this.section.querySelector(".text-container8"),this.videoContainer=this.section.querySelector(".video-container8"),this.sheetId=config[config.status].section8SheetId,this.videoLoaded=!1,this.isMobile=window.innerWidth<944,this.resizeTimeout=null,this.observer=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&!this.videoLoaded&&this.loadVideo()}))}),{threshold:0,rootMargin:"100px 0px"}),this.init(),this.handleResize=this.handleResize.bind(this),window.addEventListener("resize",this.handleResize)}handleResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout((()=>{const e=this.isMobile;this.isMobile=window.innerWidth<944,e!==this.isMobile&&this.videoLoaded&&this.loadVideo()}),150)}async init(){try{const e=await DataService.fetchVideo8Data(this.sheetId);e&&this.render(e)}catch(e){}}render(e){this.textContainer.innerHTML=`\n      <h1>${e.title.replace(/\\n/g,"<br>")}</h1>\n    `,this.observer.observe(this.videoContainer),this.videoData=e}loadVideo(){if(!this.videoData)return;const e=this.videoData,t=window.innerWidth<944;this.videoContainer.innerHTML=`\n      <video\n        autoplay\n        muted\n        playsinline \n        loop\n        loading="lazy"\n        preload="metadata"\n        poster="${t?e.mobilePoster:e.desktopPoster}"\n        class="video ${t?"video-mobile":"video-desktop"}"\n      >\n        <source \n          src="${t?e.mobileMP4:e.desktopMP4}" \n          type="video/mp4"\n        />\n        ${t&&e.mobileWebM?`\n          <source \n            src="${e.mobileWebM}" \n            type="video/webm"\n          />\n        `:""}\n      </video>\n    `,this.videoLoaded=!0}destroy(){window.removeEventListener("resize",this.handleResize),this.observer.disconnect(),this.resizeTimeout&&clearTimeout(this.resizeTimeout)}}class Section3Manager{constructor(){this.section=document.querySelector("#section3"),this.sections=document.querySelector("section"),this.container=this.section.querySelector(".rewards-container"),this.textContainer=this.section.querySelector(".text-container"),this.rankNovice=this.section.querySelector(".rank.novice"),this.rankRookie=this.section.querySelector(".rank.rookie"),this.rankAmateur=this.section.querySelector(".rank.amateur"),this.rankIntiate=this.section.querySelector(".rank.intiate"),this.rankApprentice=this.section.querySelector(".rank.apprentice"),this.rankEnthusiast=this.section.querySelector(".rank.enthusiast"),this.rankExpert=this.section.querySelector(".rank.expert"),this.rankHighroller=this.section.querySelector(".rank.highroller"),this.rankPro=this.section.querySelector(".rank.pro"),this.rankAce=this.section.querySelector(".rank.ace"),this.sheetId=config[config.status].section3SheetId,this.observer=new IntersectionObserver(this.trackOnViewport.bind(this),{root:null,threshold:Array.from({length:100},((e,t)=>t/100))}),this.init(),this.observer.observe(this.section)}async init(){try{const e=await DataService.fetchRanksData(this.sheetId);e?this.render(e):console.warn("Section3 data is not available")}catch(e){console.error("Error initializing Section3:",e)}}handleRank(e,t,i,s){e.classList.contains("show")||e.classList.add("show");let n=0;n=t<=i?0:t>=s?100:(t-i)/(s-i)*100;const r=e.querySelector(".rank-line");r&&(r.style.width=`${n}%`)}trackOnViewport(e){e.forEach((e=>{requestAnimationFrame((()=>{const t=e.target.getBoundingClientRect(),i=document.documentElement.clientHeight;let s=t.height;const n=window.scrollY||window.pageYOffset;let r=n+i-(t.top+n),a=100*Math.min(Math.max(r/s,0),1);a=Math.round(a),a>=55&&(this.handleRank(this.rankNovice,a,55,60),this.rankAmateur.classList.remove("show"),this.rankRookie.classList.remove("show"),this.rankIntiate.classList.remove("show"),this.rankApprentice.classList.remove("show"),this.rankEnthusiast.classList.remove("show"),this.rankExpert.classList.remove("show"),this.rankHighroller.classList.remove("show"),this.rankPro.classList.remove("show"),this.rankAce.classList.remove("show")),a>=60&&(this.handleRank(this.rankRookie,a,60,65),this.rankAmateur.classList.remove("show"),this.rankIntiate.classList.remove("show"),this.rankApprentice.classList.remove("show"),this.rankEnthusiast.classList.remove("show"),this.rankExpert.classList.remove("show"),this.rankHighroller.classList.remove("show"),this.rankPro.classList.remove("show"),this.rankAce.classList.remove("show")),a>=65&&(this.handleRank(this.rankAmateur,a,65,70),this.rankIntiate.classList.remove("show"),this.rankApprentice.classList.remove("show"),this.rankEnthusiast.classList.remove("show"),this.rankExpert.classList.remove("show"),this.rankHighroller.classList.remove("show"),this.rankPro.classList.remove("show"),this.rankAce.classList.remove("show")),a>=70&&(this.handleRank(this.rankIntiate,a,70,75),this.rankApprentice.classList.remove("show"),this.rankEnthusiast.classList.remove("show"),this.rankExpert.classList.remove("show"),this.rankHighroller.classList.remove("show"),this.rankPro.classList.remove("show"),this.rankAce.classList.remove("show")),a>=75&&(this.handleRank(this.rankApprentice,a,75,80),this.rankEnthusiast.classList.remove("show"),this.rankExpert.classList.remove("show"),this.rankHighroller.classList.remove("show"),this.rankPro.classList.remove("show"),this.rankAce.classList.remove("show")),a>=80&&(this.handleRank(this.rankEnthusiast,a,80,85),this.rankExpert.classList.remove("show"),this.rankHighroller.classList.remove("show"),this.rankPro.classList.remove("show"),this.rankAce.classList.remove("show")),a>=85&&(this.handleRank(this.rankExpert,a,85,90),this.rankHighroller.classList.remove("show"),this.rankPro.classList.remove("show"),this.rankAce.classList.remove("show")),a>=90&&(this.handleRank(this.rankHighroller,a,90,95),this.rankPro.classList.remove("show"),this.rankAce.classList.remove("show")),a>=95&&(this.handleRank(this.rankPro,a,95,100),this.rankAce.classList.remove("show")),100===a&&this.handleRank(this.rankAce,a,100,100)}))}))}render(e){this.textContainer.innerHTML=`\n      <h3 >${e.section.title}</h3>\n      <p class="rewards-description">${e.section.description}</p>\n    `;const t=this.container.querySelector(".card-cta-2");t&&(t.href=e.section.ctaHref,t.innerHTML=`${e.section.ctaText}`)}}class Section2Manager{constructor(){this.section=document.querySelector("#section2"),this.container=this.section.querySelector(".container"),this.textContainer=this.container.querySelector(".text-container"),this.packagesWrapper=this.container.querySelector(".packages-wrapper"),this.packagesWrapperMobile=this.container.querySelector(".packages-wrapper-mobile"),this.swiperWrapper=this.packagesWrapperMobile.querySelector(".swiper-wrapper"),this.sheetId=config[config.status].section2SheetId,this.swiper=null,this.init()}async init(){try{const e=await DataService.fetchSheetData(this.sheetId);e?(await this.render(e),this.initSwiper(),this.handleResponsive()):console.warn("Section2 data is not available")}catch(e){console.error("Error initializing Section2:",e)}}initSwiper(){window.innerWidth>1024||(this.swiper&&this.swiper.destroy(!0,!0),this.swiper=new Swiper(".swiper",{slidesPerView:1,spaceBetween:30,centeredSlides:!0,loop:!1,speed:500,effect:"slide",watchSlidesProgress:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{320:{slidesPerView:1,spaceBetween:20},480:{slidesPerView:1,spaceBetween:30}},on:{slideChange:function(){this.slides.forEach((e=>{e.classList.contains("swiper-slide-active")&&(e.style.transition="transform 0.5s ease")}))}}}))}handleResponsive(){this.updateLayout(window.innerWidth<=1024),window.addEventListener("resize",(()=>{this.updateLayout(window.innerWidth<=1024)}))}updateLayout(e){e?(this.packagesWrapperMobile.style.display="block",this.packagesWrapper.style.display="none",this.initSwiper()):(this.packagesWrapperMobile.style.display="none",this.packagesWrapper.style.display="flex",this.swiper&&(this.swiper.destroy(!0,!0),this.swiper=null))}render(e){const t=e.values[0],i=e=>t.indexOf(e),s=i("Section Title"),n=i("Section CTA Text"),r=i("Section CTA Href");i("style");this.textContainer.innerHTML=`\n      <h2>${e.values[1][s]}</h2>\n    `,this.packagesWrapper.innerHTML='\n      <div class="green-layer-blur"></div>\n      <div class="green-layer-blur-2"></div>\n    ',this.swiperWrapper.innerHTML="",e.values.slice(1).forEach(((e,t)=>{if("TRUE"===e[i("isActive")]){const t=e[i("label")],s=e[i("gcAmount")],n=e[i("scAmount")],r=e[i("cardType")],a=e[i("ctaText")],o=(e[i("ctaDesc")],e[i("ctaPrize")]),c=e[i("ctaLink")],l=e[i("discount")],h=e[i("discountPrize")],d=`\n          <div class="package-card-content">\n            <p class="${"standart"===r?"package-card-standart-label":"package-card-popular-label"}">\n              <span>${t}</span>\n            </p>\n            <div class="package-card-content-container">\n              <div class="card-icon-container">\n                <p id="gc-icon"></p>\n                <p id="sc-icon" class="sc-amount">\n                  <span>${n}</span>\n                </p>\n              </div>\n              <p class="card-value">${s.replace(".",",")} GC</p>\n               <a href="${c}" class="card-cta">\n                <span class="card-cta-prize">${o}</span>\n                <span class="card-cta-text">${a}</span>\n              </a>\n              <a class='card-cta-2' href='${c}'>\n                <span>${l}</span>\n                ${h}\n              </a>\n            </div>\n          </div>\n        `,u=document.createElement("div");u.id="standart"===r?"package-card-standart":"",u.className="package-card",u.innerHTML=d,this.packagesWrapper.appendChild(u);const m=document.createElement("div");m.className="swiper-slide";const p=document.createElement("div");p.id="standart"===r?"package-card-standart":"",p.className="package-card",p.innerHTML=d,m.appendChild(p),this.swiperWrapper.appendChild(m)}}));const a=this.container.querySelector("#section2Cta");a&&(a.href=e.values[1][r],a.innerHTML=`${e.values[1][n].replace("\\n","")}<div class='background'><div class='particles'></div></div>`)}}class Section5Manager{constructor(){this.section=document.querySelector("#section5"),this.container=this.section.querySelector(".games-container"),this.textContainer=this.container.querySelector(".text-container"),this.gamesGrid=this.container.querySelector(".games-grid"),this.sheetId=config[config.status].section5SheetId,this.init()}async init(){try{const e=await DataService.fetchGamesData(this.sheetId);e?this.render(e):console.warn("Section5 data is not available")}catch(e){console.error("Error initializing Section5:",e)}}render(e){e.section.title&&(this.textContainer.innerHTML=`\n        <h3 class="">${e.section.title}</h3>\n      `),this.gamesGrid.innerHTML=e.games.map((e=>`\n        <a href="${e.href}" class="game-card">\n          <picture>\n            <source type="image/webp" srcset="${e.imgSrc.replace(".png",".webp")}">\n            <source type="image/png" srcset="${e.imgSrc}">\n            <img src="${e.imgSrc}" alt="${e.name}" />\n          </picture>\n        </a>\n      `)).join("");const t=this.container.querySelector("div[style='display: flex; justify-content: center']");t&&e.section.ctaText&&(t.innerHTML=`\n      <a class='card-cta-2' href='${e.section.ctaHref}'>\n              ${e.section.ctaText}\n      </a>\n        `)}}class Section9Manager{constructor(){this.section=document.querySelector("#section9"),this.reviewTrack=this.section.querySelector(".review-track"),this.header=this.section.querySelector("h1"),this.sheetId=config[config.status].section9SheetId,this.init()}async init(){try{const e=await DataService.fetchSheetData(this.sheetId);e?this.render(e):console.warn("Section9 data is not available")}catch(e){console.error("Error initializing Section9:",e)}}render(e){try{this.header.innerHTML=e.sectionHeader,this.reviewTrack.innerHTML="",e.activeItems.forEach((e=>{const t="Review"===e.type?this.createReviewCard(e):this.createWinnerCard(e);this.reviewTrack.appendChild(t)}));this.reviewTrack.querySelectorAll(".review-card, .winner-card").forEach((e=>{const t=e.cloneNode(!0);this.reviewTrack.appendChild(t)})),this.updateScrollAnimation(),this.section.style.display="block"}catch(e){console.error("Error rendering cards:",e)}}updateScrollAnimation(){const e=this.reviewTrack.querySelectorAll(".review-card, .winner-card"),t=e.length;if(0===t)return;const i=t*(e[0].offsetWidth+parseInt(window.getComputedStyle(e[0]).marginRight)),s=3*t,n=document.createElement("style");n.textContent=`\n      @keyframes scroll {\n        0% {\n          transform: translateX(0);\n        }\n        100% {\n          transform: translateX(-${i/2}px);\n        }\n      }\n      \n      .review-track {\n        animation: scroll ${s}s linear infinite;\n      }\n    `;const r=document.getElementById("review-animation-style");r&&r.remove(),n.id="review-animation-style",document.head.appendChild(n)}createReviewCard(e){const t=document.createElement("div");t.className="review-card";const i=parseInt(e.rating);return t.innerHTML=`\n      <div class="card-inner-container">\n        <div class="star-rating">\n          ${Array(i).fill('<div class="star">★</div>').join("")}\n        </div>\n        <span class="review-date">${e.date}</span>\n        <p class="review-title">${e.title}</p>\n        <p class="review-content">${e.content}</p>\n        <div class="reviewer-name">${e.name}</div>\n      </div>\n    `,t}createWinnerCard(e){const t=document.createElement("div");return t.className="winner-card",t.innerHTML=`\n      <div class="card-inner-container">\n        <p>${e.content.replaceAll("{PRIZE_AMOUNT}",`<span class="winner-card-amount">${Number(e.prizeAmount).toLocaleString("en-US")}</span>`).replaceAll("{GAME_TYPE}",`<spin class="winner-card-amount">${e.gameType}</spin>`).replaceAll("{SPIN_AMOUNT}",`<span class="winner-card-amount">${e.spinAmount}</span>`).replaceAll("{NAME}",e.name)}</p>\n      </div>\n    `,t}addResizeListener(){window.addEventListener("resize",(()=>{this.updateScrollAnimation()}))}}class NavbarManager{constructor(){this.navLinks=document.querySelector("#nav-links"),this.sheetId=config[config.status].navbarSheetId,this.init()}async init(){try{const e=await DataService.fetchNavbarData(this.sheetId);e?this.render(e):console.warn("Navbar data is not available")}catch(e){console.error("Error initializing Navbar:",e)}}render(e){if(this.navLinks.innerHTML="",e.navItems.forEach(((e,t)=>{const i=document.createElement("a");i.href=e.href,i.textContent=e.text,0===t?i.id="login":1===t&&(i.id="sign-up",i.className="navbar-cta card-cta-2",i.innerHTML=`\n        ${e.text}\n        `),this.navLinks.appendChild(i)})),!e.hideLoader){document.querySelector("#loader-container").classList.add("show-always")}}}class Section4Manager{constructor(){this.section=document.querySelector(".section4"),this.carousel=this.section.querySelector(".carousel"),this.carouselMobile=this.section.querySelector(".carousel-mobile"),this.sheetId=config[config.status].section4SheetId,this.mobileSheetId=config[config.status].section4MobileSheetId,this.carouselInterval=null,this.mobileCarouselInterval=null,this.isMobile=window.innerWidth<1025,this.resizeTimeout=null,this.init(),this.handleResize=this.handleResize.bind(this),window.addEventListener("resize",this.handleResize)}handleResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout((()=>{const e=this.isMobile;this.isMobile=window.innerWidth<1025,e!==this.isMobile&&this.reinitializeCarousels()}),150)}async reinitializeCarousels(){this.carouselInterval&&(clearInterval(this.carouselInterval),this.carouselInterval=null),this.mobileCarouselInterval&&(clearInterval(this.mobileCarouselInterval),this.mobileCarouselInterval=null),this.carousel&&this.carousel.removeEventListener("transitionend",this.handleTransitionEnd),this.carouselMobile&&this.carouselMobile.removeEventListener("transitionend",this.handleTransitionEnd),this.isMobile?(this.carousel&&(this.carousel.style.transform="",this.carousel.style.transition=""),this.carouselMobile&&(await this.renderMobile(await DataService.fetchMobileCarouselData(this.mobileSheetId)),this.initializeMobileCarousel())):(this.carouselMobile&&(this.carouselMobile.style.transform="",this.carouselMobile.style.transition=""),this.carousel&&(await this.render(await DataService.fetchCarouselData(this.sheetId)),this.initializeCarousel()))}async init(){try{if(this.isMobile=window.innerWidth<1025,this.isMobile){const e=await DataService.fetchMobileCarouselData(this.mobileSheetId);e?(await this.renderMobile(e),this.initializeMobileCarousel()):console.warn("Mobile carousel data is not available")}else{const e=await DataService.fetchCarouselData(this.sheetId);e?(await this.render(e),this.initializeCarousel()):console.warn("Desktop carousel data is not available")}}catch(e){console.error("Error initializing Section4:",e)}}destroy(){window.removeEventListener("resize",this.handleResize),this.carouselInterval&&clearInterval(this.carouselInterval),this.mobileCarouselInterval&&clearInterval(this.mobileCarouselInterval),this.resizeTimeout&&clearTimeout(this.resizeTimeout)}async renderMobile(e){return this.carousel.innerHTML="",this.carouselMobile.innerHTML="",this.carouselMobile.style.display="flex",this.carouselMobile.style.transition="transform 0.5s ease-in-out",this.carouselMobile.style.width="100%",this.carouselMobile.style.position="relative",e.forEach((e=>{const t=document.createElement("div");t.id=e.slideId+"-mobile",t.className="carousel-item-mobile",t.style.minWidth="100%",t.style.position="relative",t.style.transition="all 0.5s ease-in-out",t.style.opacity="0",t.style.visibility="hidden",t.style.backgroundImage=`url('${e.background}')`,t.style.backgroundSize="150%",t.style.backgroundPosition="75% center",t.style.backgroundRepeat="no-repeat",t.innerHTML=`\n        <div class="slide-text-container-mobile">\n          <div>\n            <p class="title">${e.title.replace(/\\n/g,"<br>")}</p>\n            <p class="description">${e.description.replace(/\\n/g,"<br>")}</p>\n          </div>\n          ${e.ctaText?`\n          <a class='card-cta-2' href='${e.ctaLink}'>\n              ${e.ctaText}\n            </a>`:""}\n        </div>\n      `,this.carouselMobile.appendChild(t)})),new Promise((e=>{requestAnimationFrame((()=>{e()}))}))}async render(e){return this.carousel.innerHTML="",this.carouselMobile.innerHTML="",e.forEach((e=>{const t=document.createElement("div");t.id=e.slideId,t.className="carousel-item",t.style.backgroundImage=`url('${e.background}')`,t.style.backgroundSize="contain",t.style.backgroundRepeat="no-repeat";const i=`\n        <div class="slide-text-container">\n          <p class="title">${e.title.replace(/\\n/g,"<br>")}</p>\n          <p class="description">${e.description.replace(/\\n/g,"<br>")}</p>\n          ${e.ctaText?`\n          <a class='card-cta-2' href='${e.ctaLink}'>\n            ${e.ctaText}\n          </a>`:""}\n        </div>\n      `;t.innerHTML=i,this.carousel.appendChild(t)})),new Promise((e=>{requestAnimationFrame((()=>{e()}))}))}initializeCarousel(){const e=this.carousel.querySelectorAll(".carousel-item");if(!e.length)return;const t=e.length;let i=0,s=!1,n=!1,r=0;const a=(s=!0)=>{const n=this.carousel.querySelectorAll(".carousel-item");if(n.length>t+4){const e=n.length-(t+4);for(let t=0;t<e;t++)this.carousel.removeChild(n[t])}i>=n.length&&(i=0,this.carousel.style.transition="none",this.carousel.style.transform="translateX(0)",this.carousel.offsetHeight);const r=92*-i;if(this.carousel.style.transition=s?"transform 0.5s ease-in-out":"none",this.carousel.style.transform=`translateX(${r}%)`,n.forEach(((e,t)=>{e.classList.remove("active"),t===i?(e.classList.add("active"),e.style.transform="scale(1.05)",e.style.opacity="1",e.style.zIndex="2"):t===i-1||t===i+1?(e.style.transform="scale(0.95)",e.style.opacity="0.7",e.style.zIndex="1"):(e.style.transform="scale(0.9)",e.style.opacity="0.5",e.style.zIndex="0")})),i>=n.length-2&&n.length<t+4){const s=e[(i+2)%t].cloneNode(!0);this.carousel.appendChild(s)}},o=()=>{s||n||(s=!0,i++,a(!0))},c=()=>{s||n||i<=0||(s=!0,i--,a(!0))};this.carousel.addEventListener("transitionend",(()=>{s=!1})),this.carousel.addEventListener("mousedown",(e=>{s||(n=!0,r=e.pageX,this.carousel.style.transition="none")})),this.carousel.addEventListener("mousemove",(e=>{if(!n)return;e.preventDefault();const t=2*(e.pageX-r),s=.92*this.carousel.offsetWidth,a=-i*s;requestAnimationFrame((()=>{this.carousel.style.transform=`translateX(calc(${a}px + ${t}px))`}))}));const l=e=>{if(!n)return;n=!1,this.carousel.style.transition="transform 0.5s ease-in-out";const t=e.pageX-r;Math.abs(t)>50?t>0&&i>0?c():t<0?o():a(!0):a(!0)};this.carousel.addEventListener("mouseup",l),this.carousel.addEventListener("mouseleave",l);const h=this.carousel.parentElement.querySelector(".swiper-button-prev"),d=this.carousel.parentElement.querySelector(".swiper-button-next");h&&h.addEventListener("click",c),d&&d.addEventListener("click",o),a(!1),this.carouselInterval&&clearInterval(this.carouselInterval),this.carouselInterval=setInterval((()=>{s||n||o()}),3e3)}initializeMobileCarousel(){const e=this.carouselMobile.querySelectorAll(".carousel-item-mobile");if(!e.length)return;e.length;let t=0,i=!1;const s=(e=!0)=>{const i=this.carouselMobile.querySelectorAll(".carousel-item-mobile");t>=i.length&&(t=0,this.carouselMobile.style.transition="none",this.carouselMobile.style.transform="translateX(0)",this.carouselMobile.offsetHeight);const s=100*-t;this.carouselMobile.style.transition=e?"transform 0.5s ease-in-out":"none",this.carouselMobile.style.transform=`translateX(${s}%)`,i.forEach(((e,i)=>{e.classList.remove("active"),i===t?(e.classList.add("active"),e.style.opacity="1",e.style.visibility="visible"):(e.style.opacity="0",e.style.visibility="hidden")}))},n=()=>{i||(i=!0,t++,s(!0))},r=()=>{i||t<=0||(i=!0,t--,s(!0))};this.carouselMobile.addEventListener("transitionend",(()=>{i=!1}));const a=this.carouselMobile.parentElement.querySelector(".swiper-button-prev"),o=this.carouselMobile.parentElement.querySelector(".swiper-button-next");a&&a.addEventListener("click",r),o&&o.addEventListener("click",n);let c=0,l=0;this.carouselMobile.addEventListener("touchstart",(e=>{c=e.touches[0].clientX})),this.carouselMobile.addEventListener("touchend",(e=>{l=e.changedTouches[0].clientX;const i=l-c;Math.abs(i)>50&&(i>0&&t>0?r():i<0&&n())})),s(!1),this.mobileCarouselInterval&&clearInterval(this.mobileCarouselInterval),this.mobileCarouselInterval=setInterval((()=>{i||n()}),3e3)}}class FooterManager{constructor(){this.footer=document.querySelector("footer"),this.rightSide=this.footer.querySelector(".right-side"),this.sheetId=config[config.status].footerSheetId,this.init()}async init(){try{const e=await DataService.fetchFooterData(this.sheetId);e?this.render(e):console.warn("Footer data is not available")}catch(e){console.error("Error initializing Footer:",e)}}render(e){if(e.policy){const t=this.rightSide.querySelector("div:first-child");t?t.innerHTML=`\n          <p><b>Policy</b></p>\n          ${e.policy.map((e=>`\n            <a href="${e.href}">\n              <p>${e.text}</p>\n            </a>\n          `)).join("")}\n        `:console.error("Policy container not found")}if(e.resources){const t=this.rightSide.querySelector("div:last-child");t?t.innerHTML=`          <p><b>Resources</b></p>\n          ${e.resources.map((e=>`\n            <a href="${e.href}">\n              <p>${e.text}</p>\n            </a>\n          `)).join("")}\n        `:console.error("Resources container not found")}}}const loaderCont=document.querySelector("#loader-container"),section1=document.querySelector(".section1"),section7=document.querySelector(".section7"),section8=document.querySelector(".section8"),section6=document.querySelector("#section6"),textContainer6=section6.querySelector(".section6-text-container"),title6=textContainer6.querySelector(".title"),description6=textContainer6.querySelector(".description"),rewardsTitles=document.querySelectorAll(".rewards-title"),section1Manager=new Section1Manager,section7Manager=new Section7Manager,section8Manager=new Section8Manager,section3Manager=new Section3Manager,section2Manager=new Section2Manager,section4Manager=new Section4Manager,section5Manager=new Section5Manager,section6Manager=new Section6Manager,section9Manager=new Section9Manager,navbarManager=new NavbarManager,footerManager=new FooterManager;function updateContent(e){rewardsTitles[0].innerHTML="Get rewarded for every minute you play!"}document.addEventListener("DOMContentLoaded",(()=>{updateContent(windowSize.isMobile.value)}));const cleanup=windowSize.isMobile.subscribe((e=>{updateContent(e)}));window.addEventListener("load",(()=>{loaderCont.classList.add("hide")}));